{
  "hash": "f95023526850423fe587d0c873a10585",
  "result": {
    "engine": "knitr",
    "markdown": "# Statistical Software {#sec-stat_software}\n\n\n\nYou'll need to at least understand some statistics to be effective as a researcher.\n\nIn fact, I'd recommend just learning to do your own statistics, though this isn't strictly necessary for everyone.\n\nThe reasons are multiple.\n\nThe goal of this section is to assist in choosing the right statistical software.\n\n## Statistical software options:\n\n|  |  |  |  |\n|---------------|---------------|--------------------------|---------------|\n|  | R | Stata | Python |\n| Cost | Free | Requires License | Free |\n| IDE | RStudio | Built in editor | Many (Visual Code best) |\n| Strengths | Best epi / trials libraries for helpful functions | Simple functionality; powerful quasi-experimental/Meta-analysis. U of U MSCI uses. | Best NLP, machine learning libraries |\n| Weakness | Clunky syntax; many 'dialects' | Simple syntax | Moderately Complex Syntax |\n| Explainable Programming\\* | Quarto | No options | Jupyter |\n\n\\*The idea that code should be readable by consumers of science has caught on in more quantitative fields (Math, CS), but will be coming to medicine. Long overdue. Learn now.\n\n### How to install\n\nInstructions for how to do the multiple tabs: https://x.com/rlmcelreath/status/1793641224941007261?s=46&t=5eJ6uoTQrbbYTlHIOnRYRg\n\nIn quarto just use\n\n::: panel-tabset\n## tab 1\n\nContent \\## tab 2 Content\n:::\n\nhttps://quarto.org/docs/interactive/layout.html\n\nFor R\n\n|  |  |  |  |\n|--------------|--------------|--------------|------------------------------|\n| Step 1: | Install R Language | <https://cran.r-project.org/> |  |\n| Step 2: | Install RStudio | <https://posit.co/downloads/> | RStudio is an IDE (development environment) |\n| Step 3: | Install Quarto (formerly Markdown) | <https://quarto.org/docs/get-started/> | Facilitates sharing and explaining your code. Will soon be standard in medical science. |\n| Step 4: | Download this document | <https://github.com/reblocke/fellow_stats> | \"fellow_stats.qmd\" |\n\nThis page is made using Quarto.\n\n**Packages**\n\nOther people have mostly done all the analyses you'll want to do:\n\n-   Curated lists of relevant packages: <https://cran.r-project.org/web/views/>\n-   \\`install.packages( )\\` will install the packages\n-   \\`?package\\`  or \\`?command\\` will bring up the documentation\n\nExample: Say you want to do a meta-analysis.\n\nRelevant packages: <https://cran.r-project.org/web/views/MetaAnalysis.html>\n\nThe 'meta' package looks good. Try using \\`install.packages('meta')\\` to install it, then you can you can access the documentation using \\`?meta\\`\n\nLet's try an example... I extracted data on all of the trials comparing high O2 to low O2 targets and uploaded to github.\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'dplyr'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n```\n\n\n:::\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nhead(data_sheet)\nauthors <- select(data_sheet, author)\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|name       |author   | year|doi                           | num_randomized| num_patients| num_high_o2| high_o2_died| high_o2_alive| num_low_o2| low_o2_died| low_o2_alive|target       |outcome |population   |\n|:----------|:--------|----:|:-----------------------------|--------------:|------------:|-----------:|------------:|-------------:|----------:|-----------:|------------:|:------------|:-------|:------------|\n|Oxygen-ICU |Girardis | 2016|10.1001/jama.2016.11993       |            460|          432|         216|         74.0|         142.0|        216|      52.000|      164.000|either       |in-hosp |All          |\n|CLOSE      |Panwar   | 2016|10.1164/rccm.201505-1019OC    |            104|          103|          51|         19.0|          32.0|         52|      21.000|       31.000|spo2         |90d     |All          |\n|HYPER2S    |Asfar    | 2017|10.1016/S2213-2600(17)30046-2 |            442|          434|         217|        104.0|         113.0|        217|      90.000|      127.000|sao2 vs fio2 |90d     |Septic Shock |\n|Lang2018   |Lang     | 2018|10.1111/aas.13093             |             65|           65|          38|          9.0|          29.0|         27|       8.000|       19.000|fio2         |6m      |TBI          |\n|COMACARE   |Jakkula  | 2018|10.1007/s00134-018-5453-9     |            123|          120|          59|         20.0|          39.0|         61|      18.000|       43.000|pao2         |30d     |OHCA         |\n|ICU-ROX    |Mackle   | 2020|10.1056/NEJMoa1903297         |           1000|          965|         484|        157.3|         326.7|        481|     166.907|      314.093|spo2         |90d     |unknown      |\n\n</div>\n:::\n:::\n\n\nNow, let's meta-analyze it:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nlibrary(meta)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: metadat\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading 'meta' package (version 8.1-0).\nType 'help(meta)' for a brief overview.\n```\n\n\n:::\n\n```{.r .cell-code}\n#metabin takes events, total (rather than events, nonevents)\nm_ex1 <- meta::metabin(low_o2_died, num_low_o2, high_o2_died, num_high_o2, data = data_sheet, studlab = paste(name, author, year), sm = \"OR\")\nmeta::forest(m_ex1, comb.random = FALSE, lab.c = \"High Oxygen\", lab.e = \"Low Oxygen\", label.left = \"Favors Low O2\", label.right = \"Favors High O2\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Use argument 'label.e' instead of 'lab.e' (deprecated).\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Use argument 'label.c' instead of 'lab.c' (deprecated).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](stat_software_files/figure-html/unnamed-chunk-4-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\nAnd if you want to get really cutting edge, you can do a trial sequential analysis (TSA) on it:\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ forcats   1.0.0     ✔ readr     2.1.5\n✔ ggplot2   3.5.2     ✔ stringr   1.5.1\n✔ lubridate 1.9.4     ✔ tibble    3.2.1\n✔ purrr     1.0.4     ✔ tidyr     1.3.1\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Unknown or uninitialised column: `order`.\nUnknown or uninitialised column: `order`.\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in RTSA(type = \"analysis\", data = rtsa_df, outcome = \"RR\", mc = 0.9, :\nNB. The required information size adjusted by Diversity (D^2). This might cause\nan under-powered analysis. Consider changing the argument `random_adj` from\n`D2` (default) to `tau2`.\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$study\n[1] \"character\"\n\n$author\n[1] \"character\"\n\n$year\n[1] \"numeric\"\n\n$doi\n[1] \"character\"\n\n$num_randomized\n[1] \"numeric\"\n\n$num_patients\n[1] \"numeric\"\n\n$nI\n[1] \"numeric\"\n\n$eI\n[1] \"numeric\"\n\n$high_o2_alive\n[1] \"numeric\"\n\n$nC\n[1] \"numeric\"\n\n$eC\n[1] \"numeric\"\n\n$low_o2_alive\n[1] \"numeric\"\n\n$target\n[1] \"character\"\n\n$outcome\n[1] \"character\"\n\n$population\n[1] \"character\"\n\n$study\ninteger(0)\n\n$author\ninteger(0)\n\n$year\ninteger(0)\n\n$doi\ninteger(0)\n\n$num_randomized\ninteger(0)\n\n$num_patients\ninteger(0)\n\n$nI\ninteger(0)\n\n$eI\ninteger(0)\n\n$high_o2_alive\ninteger(0)\n\n$nC\ninteger(0)\n\n$eC\ninteger(0)\n\n$low_o2_alive\ninteger(0)\n\n$target\ninteger(0)\n\n$outcome\ninteger(0)\n\n$population\ninteger(0)\n```\n\n\n:::\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nplot(an_rtsa)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in geom_segment(aes(x = 0, xend = max(sma_timing, na.rm = T), y = y_val1, : All aesthetics have length 1, but the data has 13 rows.\nℹ Please consider using `annotate()` or provide this layer with data containing\n  a single row.\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in geom_segment(aes(x = 0, xend = 0, y = y_val1, yend = y_val2)): All aesthetics have length 1, but the data has 13 rows.\nℹ Please consider using `annotate()` or provide this layer with data containing\n  a single row.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](stat_software_files/figure-html/unnamed-chunk-6-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\nMeaning, we've passed futility (at 90% power) for a 10% relative risk reduction a few trials ago. Cool.\n\n## Reproducible Research\n\n-   basic usage - notebooks - reproducible research pipelines.\n\n## 'Vibe Coding' and related concepts.\n\n-   GPT usage.\n\n**Large Language Models:** Options:\n\n-   OpenAI Chat GPT (requires subscription for best performance; custom GPTs)\n-   Github CoPilot (programming specific)\n-   Microsoft CoPilot - access to GPT4 = free through University of Utah\n\nCopilot:\n\n-   Visit [bing.com/chat](https://bing.com/chat).\n-   Select \"sign in with a work or school account\" under the Sign in icon in the upper right corner of the page.\n-   Enter your unid\\@umail.utah.edu and uNID password.\n-   Complete Duo two-factor authentication.\n-   The conversation is protected when a green shield appears in the upper right corner next to your username. It is critical to verify that the green shield is present for all conversations.\n\nPrompt Engineering:\n\n1.  have the GPT take the persona that you want\n2.  spell out the chain of thougt that you want the GPT to take (either multiple steps in 1 prompt or several prompts building on one another works)\n3.  Give examples or specifications of what you want done. \\[this is particularly useful because the documents you give it can form a context and examples\\]. \n\nHow I used GPT4 creating this workbook:\n\n![The prompt I used to create the above example.](images/IMG_ADC8B4B4AF1D-1.jpeg){alt=\"The prompt I used to create the above example.\" width=\"462\"}\n\n**U of U Resources -** \n\n-   One Data Science Hub Workshops: <https://utah-data-science-hub.github.io/education_archived.html>  \n-   Request CTSI help: <https://ctsi.utah.edu/cores-and-services/triad> \n-   Intuitive Biostatistics by Harvey Motulsky - <https://a.co/d/4NCk2bS> \n",
    "supporting": [
      "stat_software_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}